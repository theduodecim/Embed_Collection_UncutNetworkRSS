{"version":3,"file":"myMarketComponent.js","sourceRoot":"","sources":["myMarketComponent.ts"],"names":[],"mappings":"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","sourcesContent":["class MyMarketComponent extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this.render(); // Call render initially\n  }\n\n  static get observedAttributes(): string[] {\n    return ['collection'];\n  }\n\n  attributeChangedCallback(name: string, oldValue: string | null, newValue: string | null): void {\n    if (name === 'collection') {\n      this.render(); // Re-render when the attribute changes\n    }\n  }\n\n  async render(): Promise<void> {\n    const shadow = this.shadowRoot as ShadowRoot;\n    shadow.innerHTML = `\n      <style>\n        * {\n          box-sizing: border-box;\n        }\n\n        :host {\n          display: block;\n          font-family: Arial, sans-serif;\n        }\n\n        .grid-container {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 20px;\n          padding: 20px;\n          background-color: #f9f9f9;\n          border: 1px solid #ddd;\n          border-radius: 10px;\n        }\n\n        .card {\n          border: 1px solid #ddd;\n          border-radius: 10px;\n          overflow: hidden;\n          background-color: #fff;\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n          transition: transform 0.2s ease-in-out;\n          cursor: pointer;\n          text-decoration: none;\n          color: inherit;\n          display: block;\n        }\n\n        .card:hover {\n          transform: scale(1.05);\n        }\n\n        .card img {\n          width: 100%;\n          height: auto;\n          display: block;\n        }\n\n        .card-content {\n          padding: 15px;\n        }\n\n        .card-content h3 {\n          margin: 0 0 10px;\n          font-size: 1.2em;\n          color: #333;\n        }\n\n        .card-content p {\n          margin: 0;\n          font-size: 1em;\n          color: #666;\n        }\n\n        .collection-title {\n          text-align: center;\n          font-size: 1.5em;\n          margin-bottom: 20px;\n          padding: 10px;\n          background-color: #f0f0f0;\n          border: 1px solid #ddd;\n          border-radius: 10px;\n        }\n      </style>\n      <div>\n        <div class=\"grid-container\" id=\"content\">\n          <p>Loading data...</p>\n        </div>\n      </div>\n    `;\n\n    try {\n      const collectionId = this.getAttribute('collection') || 'Default';\n      const response = await fetch(`https://duodecimstudio.ddns.net:3000/get-uncut-collection-by-id/${collectionId}`);\n      const data = await response.json();\n      const channel = data.rss.channel[0];\n      const items = channel.item || [];\n\n      // Extract the collection title\n      const collectionTitle = channel.title[0] || 'Unknown Collection';\n\n      // Ensure there's only one collection title div\n      let collectionTitleDiv = shadow.querySelector('#collection-title');\n      if (!collectionTitleDiv) {\n        collectionTitleDiv = document.createElement('div');\n        collectionTitleDiv.id = 'collection-title';\n        collectionTitleDiv.classList.add('collection-title');\n        shadow.prepend(collectionTitleDiv);\n      }\n      collectionTitleDiv.textContent = `Collection: ${collectionTitle}`;\n\n      // Clear previous content\n      const contentDiv = shadow.querySelector('#content');\n      if (contentDiv) {\n        contentDiv.innerHTML = '';\n\n        // Create cards for each item\n        items.forEach((item: any) => {\n          const title = item.title?.[0] || 'No Title';\n          const description = item.description?.[0] || 'No Description';\n          const imageUrl = item.enclosure?.[0]?.['$']?.url || 'https://via.placeholder.com/300x200?text=No+Image';\n          const link = item.link?.[0] || '#';\n\n          // Create a clickable card\n          const card = document.createElement('a');\n          card.classList.add('card');\n          card.href = link;\n          card.target = '_blank'; // Open in a new tab\n          card.rel = 'noopener noreferrer'; // Security best practice\n          card.innerHTML = `\n            <img src=\"${imageUrl}\" alt=\"${title}\" />\n            <div class=\"card-content\">\n              <h3>${title}</h3>\n              <p>${description}</p>\n            </div>\n          `;\n          contentDiv.appendChild(card);\n        });\n      }\n    } catch (error) {\n      const contentDiv = shadow.querySelector('#content');\n      if (contentDiv) {\n        contentDiv.innerHTML = '<p>Error loading data. Please try again later.</p>';\n      }\n    }\n  }\n}\n\ncustomElements.define('my-market', MyMarketComponent);\n"]}